import{a as J}from"./chunk-B2FOGW6Z.js";import{a as F}from"./chunk-GJRON2FT.js";import"./chunk-L2HEO6U7.js";import"./chunk-JYJCGWMW.js";import{C as L,G as U,J as W,g as T,i as R,j,q as D,t as V,z as A}from"./chunk-RADV76JZ.js";import{Ja as S,L as m,La as E,M as f,Na as I,U as M,V as c,W as g,Wa as y,Y as x,_a as k,aa as h,ab as B,ea as d,ga as t,gb as z,ha as e,ia as p,ic as N,ma as v,na as u,oa as O,wa as b,xa as n,ya as w,za as _}from"./chunk-KV6L2PIJ.js";import"./chunk-A2PWH3LV.js";import"./chunk-2ERDAVOU.js";import"./chunk-S2UWYFTU.js";import"./chunk-7DVLVN3P.js";import"./chunk-G3CV3VGG.js";import"./chunk-PXSONQDE.js";import"./chunk-MS5FDQK3.js";import"./chunk-GCVURZBX.js";import"./chunk-4U6PRYVA.js";import"./chunk-BTS5SJXR.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{a as C}from"./chunk-OLRFWS6T.js";function q(r,a){if(r&1&&(t(0,"span"),n(1),S(2,"number"),e()),r&2){let P=O();c(),_(" R",E(2,1,P.user==null?null:P.user.accountBalance,"1.2-2")," ")}}function G(r,a){r&1&&p(0,"ion-spinner",16)}var ne=(()=>{let a=class a{constructor(i,l,o){this.authService=i,this.userService=l,this.router=o,this.user=null,this.authUser=null}ngOnInit(){this.fetchUserDetails()}fetchUserDetails(){this.authService.getCurrentUser().subscribe(i=>{this.authUser=i,i!=null&&i.uid&&this.userService.getUserById(i.uid).subscribe(l=>{this.user=C({uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL},l)})})}navigateSettings(){this.router.navigate(["/profile-settings"])}navigateProperty(){this.router.navigate(["/add-user-property"])}};a.\u0275fac=function(l){return new(l||a)(g(F),g(J),g(z))},a.\u0275cmp=x({type:a,selectors:[["app-profile"]],decls:46,vars:6,consts:[["loadingBalance",""],["slot","start"],[1,"profile-page",3,"fullscreen"],[1,"welcome-section"],[2,"text-align","left"],["alt","Profile Picture",3,"src"],[1,"badge"],["color","dark"],["color","dark",1,"edit-profile-btn",3,"click"],[1,"overflow-x-auto","whitespace-nowrap","px-4","py-2","space-x-4","flex","profile-page"],[1,"card-section","min-w-[280px]","max-w-xs","rounded-lg","text-white"],[1,"bank-card"],[1,"card-header"],[4,"ngIf","ngIfElse"],["name","wallet",1,"visa-icon"],["name","calendar",1,"visa-icon"],["name","crescent"]],template:function(l,o){if(l&1){let s=v();t(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),p(3,"ion-menu-button"),e()()(),t(4,"ion-content",2)(5,"div",3)(6,"h1",4),n(7),e(),t(8,"h2",4),n(9),e(),t(10,"ion-avatar"),p(11,"img",5),t(12,"span",6),n(13,"NEW"),e()(),t(14,"p",7),n(15,"Need help with a New Task? Let\u2019s set you up"),e(),t(16,"ion-button",8),u("click",function(){return m(s),f(o.navigateSettings())}),n(17,"Edit Profile"),e(),t(18,"ion-button",8),u("click",function(){return m(s),f(o.navigateProperty())}),n(19,"Add Property"),e()(),t(20,"div",9)(21,"div",10)(22,"h3"),n(23,"My Balance"),e(),t(24,"div",11)(25,"div",12)(26,"span"),n(27,"Available Balance"),e(),h(28,q,3,4,"span",13)(29,G,1,0,"ng-template",null,0,I),e(),t(31,"h2"),n(32,"Top up or Withdraw"),e(),p(33,"ion-icon",14),e()(),t(34,"div",10)(35,"h3"),n(36,"Upcoming Jobs"),e(),t(37,"div",11)(38,"div",12)(39,"span"),n(40,"Next Job"),e(),t(41,"span"),n(42,"12:30 PM"),e()(),t(43,"h2"),n(44,"Sandton - Cleaning"),e(),p(45,"ion-icon",15),e()()()()}if(l&2){let s=b(30);c(4),d("fullscreen",!0),c(3),_("Welcome, ",(o.user==null?null:o.user.displayName)||"User",""),c(2),w(o.user==null?null:o.user.email),c(2),d("src",(o.user==null?null:o.user.photoURL)||"assets/default-profile-picture.jpg",M),c(17),d("ngIf",(o.user==null?null:o.user.accountBalance)!==void 0)("ngIfElse",s)}},dependencies:[L,W,R,T,j,D,V,U,B,y,k,N,A],styles:[".profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]{text-align:center;padding:20px}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;margin:0 auto}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background-color:#007bff;color:#fff;font-size:.75rem;font-weight:700;padding:2px 8px;border-radius:10px}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-top:12px}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:.9rem}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .edit-profile-btn[_ngcontent-%COMP%]{--background: #000;--color: #fff;margin-top:10px;border-radius:10px}.profile-page[_ngcontent-%COMP%]   .card-section[_ngcontent-%COMP%]{--background: linear-gradient(to bottom, #ff5e1e, #00c6ff);padding:20px}.profile-page[_ngcontent-%COMP%]   .card-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.profile-page[_ngcontent-%COMP%]   .card-section[_ngcontent-%COMP%]   .bank-card[_ngcontent-%COMP%]{margin-top:10px;background:linear-gradient(45deg,#6e00f4,#a100ff);padding:20px;border-radius:12px;color:#fff;text-align:center;position:relative;overflow:hidden}.profile-page[_ngcontent-%COMP%]   .card-section[_ngcontent-%COMP%]   .bank-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.9rem;font-weight:700;opacity:.9;margin-bottom:10px}.profile-page[_ngcontent-%COMP%]   .card-section[_ngcontent-%COMP%]   .bank-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.profile-page[_ngcontent-%COMP%]   .card-section[_ngcontent-%COMP%]   .bank-card[_ngcontent-%COMP%]   .visa-icon[_ngcontent-%COMP%]{position:absolute;bottom:15px;right:15px;font-size:40px;opacity:.7}"]});let r=a;return r})();export{ne as ProfilePage};
