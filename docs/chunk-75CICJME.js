import{a as W}from"./chunk-32NLN7J2.js";import{a as L}from"./chunk-ZZSRRRLF.js";import"./chunk-6CACEU2V.js";import"./chunk-ZGICK3R3.js";import{E as j,I as D,L as A,g as k,i as B,j as z,q as T,t as N,z as R}from"./chunk-C2NQIB3Y.js";import{Aa as r,Ba as v,Ca as _,La as h,Na as x,Pa as b,U as C,V as c,W as d,Y as M,Ya as I,aa as m,ab as w,cb as y,ea as p,ib as S,ja as n,ka as t,kc as E,la as s,qa as f,ra as u,za as O}from"./chunk-RFSKJ54S.js";import"./chunk-A2PWH3LV.js";import"./chunk-7KGURMOZ.js";import"./chunk-2ERDAVOU.js";import"./chunk-S2UWYFTU.js";import"./chunk-7DVLVN3P.js";import"./chunk-G3CV3VGG.js";import"./chunk-PXSONQDE.js";import"./chunk-MS5FDQK3.js";import"./chunk-GCVURZBX.js";import"./chunk-4U6PRYVA.js";import"./chunk-BTS5SJXR.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{a as P}from"./chunk-OLRFWS6T.js";function U(o,a){if(o&1&&(n(0,"span"),r(1),h(2,"number"),t()),o&2){let g=u(2);c(),_(" R",x(2,1,g.user==null?null:g.user.accountBalance,"1.2-2")," ")}}function H(o,a){o&1&&s(0,"ion-spinner",16)}function q(o,a){if(o&1&&(n(0,"div",11)(1,"h3",8),r(2,"My Balance"),t(),n(3,"div",12)(4,"div",13)(5,"span"),r(6,"Available Balance"),t(),m(7,U,3,4,"span",14)(8,H,1,0,"ng-template",null,0,b),t(),n(10,"h2"),r(11,"Top up or Withdraw"),t(),s(12,"ion-icon",15),t()()),o&2){let g=O(9),e=u();c(7),p("ngIf",(e.user==null?null:e.user.accountBalance)!==void 0)("ngIfElse",g)}}var $=(()=>{let a=class a{constructor(e,l,i){this.authService=e,this.userService=l,this.router=i,this.user=null,this.authUser=null}ngOnInit(){this.fetchUserDetails()}fetchUserDetails(){this.authService.getCurrentUser().subscribe(e=>{this.authUser=e,e!=null&&e.uid&&this.userService.getUserById(e.uid).subscribe(l=>{this.user=P({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL},l)})})}navigateSettings(){this.router.navigate(["/profile-settings"])}navigateProperty(){this.router.navigate(["/add-user-property"])}};a.\u0275fac=function(l){return new(l||a)(d(L),d(W),d(S))},a.\u0275cmp=M({type:a,selectors:[["app-profile"]],decls:21,vars:5,consts:[["loadingBalance",""],["color","light"],["slot","start"],[1,"profile-page",3,"fullscreen"],[1,"welcome-section"],[2,"text-align","left"],["alt","Profile Picture",3,"src"],[1,"badge"],["color","dark"],["color","dark",1,"edit-profile-btn",3,"click"],["class","card-section",4,"ngIf"],[1,"card-section"],[1,"bank-card"],[1,"card-header"],[4,"ngIf","ngIfElse"],["name","wallet",1,"visa-icon"],["name","crescent"]],template:function(l,i){l&1&&(n(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-buttons",2),s(3,"ion-menu-button"),t()()(),n(4,"ion-content",3)(5,"div",4)(6,"h1",5),r(7),t(),n(8,"h2",5),r(9),t(),n(10,"ion-avatar"),s(11,"img",6),n(12,"span",7),r(13,"NEW"),t()(),n(14,"p",8),r(15,"Need help with a New Task? Let\u2019s set you up"),t(),n(16,"ion-button",9),f("click",function(){return i.navigateSettings()}),r(17,"Edit Profile"),t(),n(18,"ion-button",9),f("click",function(){return i.navigateProperty()}),r(19,"Add Property"),t()(),m(20,q,13,2,"div",10),t()),l&2&&(c(4),p("fullscreen",!0),c(3),_("Welcome, ",(i.user==null?null:i.user.displayName)||"User",""),c(2),v(i.user==null?null:i.user.email),c(2),p("src",(i.user==null?null:i.user.photoURL)||"assets/default-profile-picture.jpg",C),c(9),p("ngIf",(i.user==null?null:i.user.role)!=="user"))},dependencies:[j,A,B,k,z,T,N,D,y,I,w,E,R],styles:[".profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]{text-align:center;padding:20px}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;margin:0 auto}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background-color:#007bff;color:#fff;font-size:.75rem;font-weight:700;padding:2px 8px;border-radius:10px}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-top:12px}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:.9rem}.profile-page[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .edit-profile-btn[_ngcontent-%COMP%]{--background: #000;--color: #fff;margin-top:10px;border-radius:10px}.profile-page[_ngcontent-%COMP%]   .card-section[_ngcontent-%COMP%]{--background: linear-gradient(to bottom, #ff5e1e, #00c6ff);padding:20px}.profile-page[_ngcontent-%COMP%]   .card-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.profile-page[_ngcontent-%COMP%]   .card-section[_ngcontent-%COMP%]   .bank-card[_ngcontent-%COMP%]{margin-top:10px;background:linear-gradient(45deg,#6e00f4,#a100ff);padding:20px;border-radius:12px;color:#fff;text-align:center;position:relative;overflow:hidden}.profile-page[_ngcontent-%COMP%]   .card-section[_ngcontent-%COMP%]   .bank-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.9rem;font-weight:700;opacity:.9;margin-bottom:10px}.profile-page[_ngcontent-%COMP%]   .card-section[_ngcontent-%COMP%]   .bank-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.profile-page[_ngcontent-%COMP%]   .card-section[_ngcontent-%COMP%]   .bank-card[_ngcontent-%COMP%]   .visa-icon[_ngcontent-%COMP%]{position:absolute;bottom:15px;right:15px;font-size:40px;opacity:.7}"]});let o=a;return o})();export{$ as ProfilePage};
