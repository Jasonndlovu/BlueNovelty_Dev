import{D as Q,b as G,c as T,e as V,f as w,l as O,m as Y,n as R,o as _,p as j,q as z,r as L,s as $,t as H,v as U,w as k,y as J,z as K}from"./chunk-IMIFORWP.js";import"./chunk-36AM222O.js";import"./chunk-7QQQ4XSS.js";import"./chunk-E66F5ZP3.js";import"./chunk-HC6MZPB3.js";import"./chunk-2SDYHWHI.js";import"./chunk-4PGTP63H.js";import"./chunk-FW7FQTSR.js";import"./chunk-FERD25SW.js";import"./chunk-HMTYJH34.js";import"./chunk-VFZRLGVJ.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-C5FLGXKQ.js";import"./chunk-Q7SJDITE.js";import"./chunk-MCRJI3T3.js";import"./chunk-MM5QLNJM.js";import"./chunk-NHOGAROI.js";import"./chunk-72KDLSWN.js";import{a as B}from"./chunk-ZZSRRRLF.js";import{a as W}from"./chunk-V6U65TUG.js";import{j as q,k as P,m as D,r as M,s as A}from"./chunk-6CACEU2V.js";import{o as F}from"./chunk-ZGICK3R3.js";import{$b as v,Aa as i,V as u,W as p,Wb as o,Xb as h,Y as c,Yb as I,bc as g,cb as S,cc as N,ea as s,ic as E,ja as t,jc as x,ka as e,kc as C,la as n,lc as y,qa as b}from"./chunk-RFSKJ54S.js";import"./chunk-2ERDAVOU.js";import"./chunk-S2UWYFTU.js";import"./chunk-7DVLVN3P.js";import"./chunk-G3CV3VGG.js";import"./chunk-PXSONQDE.js";import"./chunk-MS5FDQK3.js";import"./chunk-GCVURZBX.js";import"./chunk-BTS5SJXR.js";import"./chunk-JWIEPCRG.js";import"./chunk-LF5XB4YN.js";import{g as f}from"./chunk-OLRFWS6T.js";var ue=(()=>{let a=class a{constructor(r,l){this.fb=r,this.authService=l,this.userId=null;let m=F(W.firebaseConfig);this.firestore=D(m),this.userProfileForm=this.fb.group({firstName:["",[o.required]],surname:["",[o.required]],gender:["",[o.required]],dob:["",[o.required]],phoneNumber:["",[o.required,o.pattern("^[0-9]+$")]],address:["",[o.required]],idNumber:["",[o.required,o.pattern("^[0-9]+$")]]})}ngOnInit(){this.authService.getCurrentUser().subscribe(r=>{r?this.userId=r.uid:alert("No user logged in")})}onSubmit(){return f(this,null,function*(){if(this.userProfileForm.valid&&this.userId)try{let r=q(this.firestore,"users",this.userId);(yield P(r)).exists()?yield A(r,{userProfile:this.userProfileForm.value}):yield M(r,{userProfile:this.userProfileForm.value}),alert("Profile saved successfully!")}catch(r){console.error("Error saving data:",r),alert("Error saving profile. Please try again.")}else alert("Please fill in all required fields.")})}};a.\u0275fac=function(l){return new(l||a)(p(x),p(B))},a.\u0275cmp=c({type:a,selectors:[["app-cleaner-profile"]],decls:50,vars:4,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","firstName","type","text","required",""],["formControlName","surname","type","text","required",""],["formControlName","gender","required",""],["value","Male"],["value","Female"],["value","Other"],["formControlName","dob","displayFormat","MM/DD/YYYY","required",""],["formControlName","phoneNumber","type","tel","required",""],["formControlName","address","type","text","required",""],["formControlName","idNumber","type","text","required",""],["expand","full","type","submit",3,"disabled"]],template:function(l,m){l&1&&(t(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),n(3,"ion-menu-button"),e(),t(4,"ion-title"),i(5,"CleanerProfile"),e()()(),t(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),i(10,"Cleaner Profile"),e()()(),t(11,"form",5),b("ngSubmit",function(){return m.onSubmit()}),t(12,"ion-list")(13,"ion-item")(14,"ion-label",6),i(15,"First Name"),e(),n(16,"ion-input",7),e(),t(17,"ion-item")(18,"ion-label",6),i(19,"Surname"),e(),n(20,"ion-input",8),e(),t(21,"ion-item")(22,"ion-label",6),i(23,"Gender"),e(),t(24,"ion-select",9)(25,"ion-select-option",10),i(26,"Male"),e(),t(27,"ion-select-option",11),i(28,"Female"),e(),t(29,"ion-select-option",12),i(30,"Other"),e()()(),t(31,"ion-item")(32,"ion-label",6),i(33,"Date of Birth"),e(),n(34,"ion-datetime",13),e(),t(35,"ion-item")(36,"ion-label",6),i(37,"Phone Number"),e(),n(38,"ion-input",14),e(),t(39,"ion-item")(40,"ion-label",6),i(41,"Address"),e(),n(42,"ion-input",15),e(),t(43,"ion-item")(44,"ion-label",6),i(45,"ID Number"),e(),n(46,"ion-input",16),e()(),t(47,"ion-footer")(48,"ion-button",17),i(49,"Next"),e()()()()),l&2&&(s("translucent",!0),u(6),s("fullscreen",!0),u(5),s("formGroup",m.userProfileForm),u(37),s("disabled",!m.userProfileForm.valid))},dependencies:[Q,V,w,O,Y,R,_,j,z,L,$,H,U,k,J,K,G,T,S,C,v,h,I,E,y,g,N],encapsulation:2});let d=a;return d})();export{ue as CleanerProfilePage};
