import{a as X}from"./chunk-J43YLG5W.js";import{f as U}from"./chunk-L2HEO6U7.js";import{F as Q}from"./chunk-JYJCGWMW.js";import{B as G,F as J,G as K,i as W,j as D,k as A,l as j,m as k,o as L,q as N,t as H,u as z,v as V,w as Y,z as q}from"./chunk-RADV76JZ.js";import{Ba as S,Ca as _,Da as f,Fa as C,Ja as R,Ka as E,V as a,Va as b,W as g,Wb as x,Y as M,Ya as F,Zb as B,aa as w,ab as T,ea as p,eb as P,ga as e,ha as t,ia as y,ic as O,na as u,xa as n,ya as v,za as h}from"./chunk-KV6L2PIJ.js";import"./chunk-A2PWH3LV.js";import"./chunk-2ERDAVOU.js";import"./chunk-S2UWYFTU.js";import"./chunk-7DVLVN3P.js";import"./chunk-G3CV3VGG.js";import"./chunk-PXSONQDE.js";import"./chunk-MS5FDQK3.js";import"./chunk-GCVURZBX.js";import"./chunk-4U6PRYVA.js";import"./chunk-BTS5SJXR.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{g as I}from"./chunk-OLRFWS6T.js";var Z=()=>[1,2,3,4,5];function $(l,s){if(l&1&&(e(0,"ion-select-option",11),n(1),t()),l&2){let d=s.$implicit;p("value",d),a(),v(d)}}function ee(l,s){if(l&1&&(e(0,"ion-item")(1,"ion-label")(2,"h2"),n(3),t(),e(4,"p"),n(5),t(),e(6,"p"),n(7),t(),e(8,"p"),n(9),t()()()),l&2){let d=s.$implicit;a(3),v(d.userName),a(2),v(d.message),a(2),h("\u2B50 ",d.stars," Stars"),a(2),h("\u{1F4C5} ",d.createdAt,"")}}var me=(()=>{let s=class s{constructor(o,c,i,m){this.reviewService=o,this.route=c,this.auth=i,this.firestore=m,this.newMessage="",this.newStars=5}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.reviews$=this.reviewService.getServiceReviews(this.serviceId)}logStars(o){this.newStars=o.detail.value,console.log("Stars Selected:",this.newStars)}logMessage(o){this.newMessage=o.detail.value,console.log("Input Value:",this.newMessage)}addReview(){return I(this,null,function*(){console.log("Message:",this.newMessage),console.log("Stars:",this.newStars);try{let o=yield this.reviewService.addReview(this.serviceId,this.newMessage,this.newStars,this.recipientId);console.log("Review successfully added with ID:",o),this.newMessage="",this.newStars=5}catch(o){console.error("Error adding review:",o)}})}};s.\u0275fac=function(c){return new(c||s)(g(X),g(P),g(Q),g(U))},s.\u0275cmp=M({type:s,selectors:[["app-reviews"]],decls:30,vars:9,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],["position","stacked"],["placeholder","Write your review",3,"ngModelChange","ionInput","ngModel"],[3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["expand","full",3,"click"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(c,i){c&1&&(e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),y(3,"ion-menu-button"),t(),e(4,"ion-title"),n(5,"Service Reviews"),t()()(),e(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),n(10,"reviews"),t()()(),e(11,"ion-card")(12,"ion-card-header")(13,"ion-card-title"),n(14,"Add a Review"),t()(),e(15,"ion-card-content")(16,"ion-item")(17,"ion-label",5),n(18,"Your Review"),t(),e(19,"ion-input",6),f("ngModelChange",function(r){return _(i.newMessage,r)||(i.newMessage=r),r}),u("ionInput",function(r){return i.logMessage(r)}),t()(),e(20,"ion-item")(21,"ion-label"),n(22,"Rating"),t(),e(23,"ion-select",7),f("ngModelChange",function(r){return _(i.newStars,r)||(i.newStars=r),r}),u("ionChange",function(r){return i.logStars(r)}),w(24,$,2,2,"ion-select-option",8),t()(),e(25,"ion-button",9),u("click",function(){return i.addReview()}),n(26,"Submit Review"),t()()(),e(27,"ion-list"),w(28,ee,10,4,"ion-item",10),R(29,"async"),t()()),c&2&&(p("translucent",!0),a(6),p("fullscreen",!0),a(13),S("ngModel",i.newMessage),a(4),S("ngModel",i.newStars),a(),p("ngForOf",C(8,Z)),a(4),p("ngForOf",E(29,6,i.reviews$)))},dependencies:[D,A,j,q,G,L,k,V,z,Y,W,N,H,J,K,T,b,F,O,x,B],encapsulation:2});let l=s;return l})();export{me as ReviewsPage};
