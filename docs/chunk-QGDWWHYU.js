import{a as K}from"./chunk-NJT7JAZM.js";import{h as G,u as J}from"./chunk-BKWKOILY.js";import{D as V,G as Y,H as q,i as W,k as D,l as A,m as B,o as j,q as k,t as L,u as N,v as H,w as z}from"./chunk-FYZ4SEYQ.js";import{$ as w,Aa as v,Ba as h,Ca as S,Da as _,Ea as f,Ga as y,Ia as C,Ja as R,Ob as P,Ra as E,Rb as x,U as a,Ua as F,V as g,Wa as T,X as M,Zb as O,_a as b,da as p,ia as e,ja as t,pa as u,za as n}from"./chunk-C7Y544BQ.js";import"./chunk-A2PWH3LV.js";import"./chunk-7KGURMOZ.js";import"./chunk-2ERDAVOU.js";import"./chunk-S2UWYFTU.js";import"./chunk-7DVLVN3P.js";import"./chunk-G3CV3VGG.js";import"./chunk-PXSONQDE.js";import"./chunk-MS5FDQK3.js";import"./chunk-GCVURZBX.js";import"./chunk-4U6PRYVA.js";import"./chunk-BTS5SJXR.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{g as I}from"./chunk-OLRFWS6T.js";var Q=()=>[1,2,3,4,5];function U(l,s){if(l&1&&(e(0,"ion-select-option",10),n(1),t()),l&2){let d=s.$implicit;p("value",d),a(),v(d)}}function X(l,s){if(l&1&&(e(0,"ion-item")(1,"ion-label")(2,"h2"),n(3),t(),e(4,"p"),n(5),t(),e(6,"p"),n(7),t(),e(8,"p"),n(9),t()()()),l&2){let d=s.$implicit;a(3),v(d.userName),a(2),v(d.message),a(2),h("\u2B50 ",d.stars," Stars"),a(2),h("\u{1F4C5} ",d.createdAt,"")}}var le=(()=>{let s=class s{constructor(o,c,i,m){this.reviewService=o,this.route=c,this.auth=i,this.firestore=m,this.newMessage="",this.newStars=5}ngOnInit(){this.serviceId=this.route.snapshot.paramMap.get("id"),this.reviews$=this.reviewService.getServiceReviews(this.serviceId)}logStars(o){this.newStars=o.detail.value,console.log("Stars Selected:",this.newStars)}logMessage(o){this.newMessage=o.detail.value,console.log("Input Value:",this.newMessage)}addReview(){return I(this,null,function*(){console.log("Message:",this.newMessage),console.log("Stars:",this.newStars);try{let o=yield this.reviewService.addReview(this.serviceId,this.newMessage,this.newStars);console.log("Review successfully added with ID:",o),this.newMessage="",this.newStars=5}catch(o){console.error("Error adding review:",o)}})}};s.\u0275fac=function(c){return new(c||s)(g(K),g(b),g(G),g(J))},s.\u0275cmp=M({type:s,selectors:[["app-reviews"]],decls:28,vars:9,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["position","stacked"],["placeholder","Write your review",3,"ngModelChange","ionInput","ngModel"],[3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["expand","full",3,"click"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(c,i){c&1&&(e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),n(3,"Service Reviews"),t()()(),e(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),n(8,"reviews"),t()()(),e(9,"ion-card")(10,"ion-card-header")(11,"ion-card-title"),n(12,"Add a Review"),t()(),e(13,"ion-card-content")(14,"ion-item")(15,"ion-label",4),n(16,"Your Review"),t(),e(17,"ion-input",5),f("ngModelChange",function(r){return _(i.newMessage,r)||(i.newMessage=r),r}),u("ionInput",function(r){return i.logMessage(r)}),t()(),e(18,"ion-item")(19,"ion-label"),n(20,"Rating"),t(),e(21,"ion-select",6),f("ngModelChange",function(r){return _(i.newStars,r)||(i.newStars=r),r}),u("ionChange",function(r){return i.logStars(r)}),w(22,U,2,2,"ion-select-option",7),t()(),e(23,"ion-button",8),u("click",function(){return i.addReview()}),n(24,"Submit Review"),t()()(),e(25,"ion-list"),w(26,X,10,4,"ion-item",9),C(27,"async"),t()()),c&2&&(p("translucent",!0),a(4),p("fullscreen",!0),a(13),S("ngModel",i.newMessage),a(4),S("ngModel",i.newStars),a(),p("ngForOf",y(8,Q)),a(4),p("ngForOf",R(27,6,i.reviews$)))},dependencies:[D,A,V,j,B,H,N,z,W,k,L,Y,q,T,E,F,O,P,x],encapsulation:2});let l=s;return l})();export{le as ReviewsPage};
